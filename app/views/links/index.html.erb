<%= link_to 'Sign Out', logout_path %>
<div class="container">
  <div class="row">
    <%= form_for(@link) do |f| %>
      <div class="form-group">
        <%= f.label :title %>
        <%= f.text_field :title, class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= f.label :url %>
        <%= f.text_field :url, class: 'form-control' %>
      </div>

      <%= f.submit 'Submit URL', class: 'btn btn-success' %>
    <% end %>

    <button class="btn btn-info show-read" name="button">Show Read</button>

    <div class="links">
      <table class='table table-striped'>
        <thead>
          <th>Title</th>
          <th>Link</th>
          <th>Read?</th>
          <th>Edit</th>
        </thead>
        <tbody>
          <% @links.each do |link| %>
            <tr id='link-<%= link.id %>'>
              <td><%= link.title %></td>
              <% if link.read %>
                <td>
                  <%= link_to link.url, link.url, class: 'link read-link' %>
                </td>
              <% else %>
                <td>
                  <%= link_to link.url, link.url, class: 'link unread-link' %>
                </td>
              <% end %>

              <% if link.read %>
                <td>
                  <p class='read-status'>
                    Read
                  </p>
                  <button class="btn btn-info mark-as-unread" name="button" data-link-id='<%= link.id %>'>Mark as Unread</button>
                </td>
              <% else %>
                <td>
                  <p class='read-status'>
                    Unread
                  </p>
                  <button class="btn btn-info mark-as-read" name="button" data-link-id='<%= link.id %>'>Mark as Read</button>
                </td>
              <% end %>
              <td><%= link_to 'Edit', edit_link_path(link) %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
